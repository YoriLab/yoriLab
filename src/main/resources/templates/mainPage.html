<!DOCTYPE html>

<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default}">

<div layout:fragment="content">

    <div >
        <h1><mark class="text-white">YoriLab</mark></h1>

        <img th:src="@{/img/mainPage.png}" class="rounded-pill shadow position-relative" alt="recipe" th:style="${'width:65%;'}"><br><br>

        <div class="box col-12">
            <form name = "LoginForm"method="post">
                <th:block th:if="${session.member != null}">
                    <span th:text="${session.member.name} +'님, 반갑습니다!'"></span>

                </th:block>
                <th:block th:if="${session.member == null}">
            <input type="ID" id = "email" name = "emailID"class="float-start col-3" placeholder="Email ID"/>
            <input type="password" id = "pw" name = "PW" class="float-start col-3" placeholder="Password"/>
                    <span th:text="${error}" th:style="${'color:red;'}"></span>
                </th:block>
                <th:block th:if="${session.member != null}">
                    <span>
                    <button type = "button" id="recomm-btn" class="float-end top-50 start-50 translate-middle btn btn-lg btn-success">추천 받기</button>
                    <button type = "button" id="ingre-select-btn" class="float-end start-80 translate-middle btn btn-lg btn-success">재료 선택</button>
                    <button type="button" id = "Logout-btn" class="float-end start-80 translate-middle btn btn-lg btn-light">로그 아웃</button>

                    </span>
                </th:block>
                <th:block th:if="${session.member == null}">
                    <button type="button" class="float-end btn btn-success btn-lg"id = "signUp-btn">회원가입</button>
                    <button type="button" class="float-end btn btn-light btn-lg" id = "Login-btn">로그인</button>
                </th:block>
            </form>


        </div>
    </div>

</div>

</html>

<script>
    $("#recomm-btn").click(function() {
        location.href = "/recommendation";
    });
    $("#signUp-btn").click(function() {
        location.href = "/signup";
    });
    $("#ingre-select-btn").click(function() {
        location.href = "/select";
    });

    $("#Login-btn").click(function() {
        var result = true;
        if($("#email").val() == "") {
            alert("emailID를 입력해 주세요.");
            result = false;
        }else if($("#pw").val() == ""){
        alert("비밀번호를 입력해 주세요.");
        result = false;
        }else {
        result = true;
        }

        if(result == true)
        { LoginForm.action = "/login";
        LoginForm.submit();}
    });
    $("#Logout-btn").click(function() {



        location.href = "/logout";

    });

</script>

<style>
  .box input{
      float: right;
      font-family: 'Poppins', sans-serif;
      display: block;
      margin: 0px auto;
      padding: 5px 20px;
      text-align: left;
      background: #F8F8F8;
      color: #fff;
      border: 0;
      border-radius: 20px;
      margin-bottom: 20px;
      color: #000;
  }
  .box button {
      border: 0;
      font-family: 'Poppins', sans-serif;
      font-size: 20px;
      margin: 0px auto;
      padding: 5px 20px;
      display: block;
      cursor: pointer;
      border-radius: 20px;
  }
</style>
